<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Car TCO Analysis Dashboard - Find the best car for your budget with 3-year total cost comparison">
    <meta name="keywords" content="car analysis, TCO, total cost ownership, car buying, depreciation">
    <title>Smart Car Buyer - TCO Analysis Dashboard</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="assets/css/dashboard.css">
</head>

<body>
    <div class="container">
        <h1>Smart Car Buyer</h1>
        <p class="subtitle">
            Find the perfect car with 3-year total cost analysis<br>
            <span style="font-size: 0.9em; opacity: 0.8;">Compare purchase price, depreciation, fuel, maintenance & insurance costs</span>
            <button id="refreshDataBtn" class="refresh-btn" title="Refresh live price data">
                üîÑ Refresh Data
            </button>
        </p>

        <!-- Filters Section -->
        <div class="section">
            <h3 class="section-title">üîç Filter Cars</h3>
            <div class="filters">
                <div class="filter-group">
                    <label for="brandFilter">Brand</label>
                    <select id="brandFilter">
                        <option value="">All Brands</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="fuelFilter">Fuel Type</label>
                    <select id="fuelFilter">
                        <option value="">All Types</option>
                        <option value="Gas">Gas</option>
                        <option value="Hybrid">Hybrid</option>
                        <option value="Electric">Electric</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="maxPrice">Max Price</label>
                    <select id="maxPrice">
                        <option value="">No Limit</option>
                        <option value="25000">Under $25k</option>
                        <option value="35000">Under $35k</option>
                        <option value="50000">Under $50k</option>
                        <option value="75000">Under $75k</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Preferences Section -->
        <div class="section">
            <h3 class="section-title">‚öôÔ∏è Your Car Preferences</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--spacing-lg);">
                Adjust the sliders below to match your priorities. The recommendations will update automatically.
            </p>
            
            <div class="preferences-section">
                <div class="preference-group">
                    <label for="costWeight">Purchase Price Importance</label>
                    <div class="slider-container">
                        <input type="range" id="costWeight" min="0" max="10" value="3" step="0.5">
                        <span id="costWeightValue" class="value-display">3</span>
                    </div>
                </div>
                
                <div class="preference-group">
                    <label for="tcoWeight">Total Cost Importance</label>
                    <div class="slider-container">
                        <input type="range" id="tcoWeight" min="0" max="10" value="4" step="0.5">
                        <span id="tcoWeightValue" class="value-display">4</span>
                    </div>
                </div>
                
                <div class="preference-group">
                    <label for="reliabilityWeight">Reliability Importance</label>
                    <div class="slider-container">
                        <input type="range" id="reliabilityWeight" min="0" max="10" value="3" step="0.5">
                        <span id="reliabilityWeightValue" class="value-display">3</span>
                    </div>
                </div>
                
                <div class="preference-group">
                    <label for="styleWeight">Style & Image Importance</label>
                    <div class="slider-container">
                        <input type="range" id="styleWeight" min="0" max="10" value="2" step="0.5">
                        <span id="styleWeightValue" class="value-display">2</span>
                    </div>
                </div>
                
                <div class="preference-group">
                    <label for="fuelWeight">Fuel Efficiency Importance</label>
                    <div class="slider-container">
                        <input type="range" id="fuelWeight" min="0" max="10" value="3" step="0.5">
                        <span id="fuelWeightValue" class="value-display">3</span>
                    </div>
                </div>

                <div class="preference-group">
                    <label for="priorityMode">Priority Mode</label>
                    <select id="priorityMode">
                        <option value="balanced">Balanced</option>
                        <option value="budget">Budget-Focused</option>
                        <option value="luxury">Luxury-Focused</option>
                        <option value="efficiency">Efficiency-Focused</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Recommendations Section -->
        <div class="section">
            <h3 class="section-title">üèÜ Personalized Recommendations</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--spacing-lg);">
                Based on your preferences above, here are the best car matches for you:
            </p>
            
            <div class="recommendations-container">
                <div id="recommendationsList">
                    <p style="text-align: center; color: var(--text-muted); padding: var(--spacing-xl);">
                        Loading recommendations... Please wait while we analyze the best cars for you.
                    </p>
                </div>
            </div>

            <!-- Chart Container -->
            <div class="chart-container">
                <h4 style="color: var(--text-primary); margin-bottom: var(--spacing-md);">Top 10 Matches - Detailed Comparison</h4>
                <canvas id="personalizedChart" width="400" height="200"></canvas>
            </div>
        </div>

        <!-- Analysis Charts Section -->
        <div class="section">
            <h3 class="section-title">üìà Market Analysis Charts</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--spacing-lg);">
                Comprehensive analysis of the car market with interactive visualizations:
            </p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: var(--spacing-lg);">
                <!-- TCO by Brand Chart -->
                <div class="chart-container">
                    <h4 style="color: var(--text-primary); margin-bottom: var(--spacing-md);">TCO by Brand</h4>
                    <canvas id="tcoBrandChart" width="400" height="300"></canvas>
                </div>

                <!-- TCO vs Reliability Chart -->
                <div class="chart-container">
                    <h4 style="color: var(--text-primary); margin-bottom: var(--spacing-md);">TCO vs Reliability</h4>
                    <canvas id="tcoReliabilityChart" width="400" height="300"></canvas>
                </div>

                <!-- Depreciation Analysis Chart -->
                <div class="chart-container">
                    <h4 style="color: var(--text-primary); margin-bottom: var(--spacing-md);">Depreciation by Brand</h4>
                    <canvas id="depreciationChart" width="400" height="300"></canvas>
                </div>

                <!-- Fuel Type Distribution Chart -->
                <div class="chart-container">
                    <h4 style="color: var(--text-primary); margin-bottom: var(--spacing-md);">Fuel Type Distribution</h4>
                    <canvas id="fuelTypeChart" width="400" height="300"></canvas>
                </div>

                <!-- TCO Distribution Chart -->
                <div class="chart-container">
                    <h4 style="color: var(--text-primary); margin-bottom: var(--spacing-md);">TCO Distribution</h4>
                    <canvas id="tcoDistributionChart" width="400" height="300"></canvas>
                </div>

                <!-- Fuel Cost vs TCO Chart -->
                <div class="chart-container">
                    <h4 style="color: var(--text-primary); margin-bottom: var(--spacing-md);">Fuel Cost vs TCO</h4>
                    <canvas id="fuelCostChart" width="400" height="300"></canvas>
                </div>
            </div>
        </div>

        <!-- Data Table Section -->
        <div class="section">
            <h3 class="section-title">üìä Complete Car Database</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--spacing-md);">
                Browse all cars in our database with detailed TCO breakdown:
            </p>
            
            <table class="data-table" id="carDataTable">
                <thead>
                    <tr>
                        <th>Car</th>
                        <th>Price</th>
                        <th>3-Year TCO</th>
                        <th>Fuel Type</th>
                        <th>Reliability</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody id="carTableBody">
                    <tr>
                        <td colspan="6" style="text-align: center; padding: var(--spacing-xl); color: var(--text-muted);">
                            Loading car data...
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Modular JavaScript -->
    <script type="module" src="assets/js/app.js"></script>
</body>
</html>